{"version":3,"sources":["services/firebase.js","hooks/use-user.js","constants/paths.js","components/header.js","components/sidebar/user.js","context/logged-in-user.js","components/sidebar/suggested-profile.js","components/sidebar/suggestions.js","components/sidebar/index.js","components/post/header.js","components/post/image.js","components/post/actions.js","components/post/footer.js","components/post/add-comment.js","components/post/comments.js","components/post/index.js","components/timeline.js","hooks/use-photos.js","pages/dashboard.js"],"names":["doesUsernameExist","username","a","firebase","firestore","collection","where","get","result","docs","map","user","data","length","getUserByUsername","item","docId","id","getUserByUserId","userId","getSuggestedProfiles","following","query","limit","profiles","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","arrayRemove","arrayUnion","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","lokes","inclueds","photosWithUserDetails","getUserPhotosByUserId","photos","isUserFollowingProfile","loggedInUserUsername","profileUserId","response","toggleFollow","activeUserDocId","followingUserId","useUser","useState","activeUser","setActiveUser","useContext","UserContext","useEffect","uid","getUserObjByUserId","DEFAULT_IMAGE_PATH","Header","loggedInUser","FirebaseContext","history","useHistory","className","to","ROUTES","aria-label","src","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","title","onClick","auth","signOut","push","onKeyDown","event","key","onError","e","target","User","fullName","memo","LoggedInUserContext","createContext","SuggestedProfile","followed","setFollowed","Suggestions","setProfiles","suggestedProfiles","profile","count","height","Sidebar","Image","caption","whyDidYouRender","Actions","totalLikes","likedPhoto","handleFocus","toggleLiked","setToggleLiked","likes","setLikes","handleToggleLiked","tabIndex","Footer","AddComment","comments","setComments","commentInput","comment","setComment","displayName","handleSubmitComment","preventDefault","method","onSubmit","autoComplete","name","placeholder","value","onChange","ref","disabled","Comments","allComments","posted","commentsSlice","setCommentsSlice","showNextComments","slice","formatDistance","Date","Post","content","useRef","imageSrc","current","focus","dateCreated","Timeline","setPhotos","followedUserPhotos","sort","b","getTimelinePhotos","usePhotos","width","Dashboard","document"],"mappings":"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","file":"static/js/6.88245145.chunk.js","sourcesContent":["import { firebase, FieldValue } from \"../lib/firebase\";\n\nexport async function doesUsernameExist(username) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"username\", \"==\", username)\n    .get();\n\n  return result.docs.map((user) => user.data().length > 0);\n}\n\nexport async function getUserByUsername(username) {\n   const result = await firebase\n     .firestore()\n     .collection('users')\n     .where('username', '==', username)\n     .get();\n \n   return result.docs.map((item) => ({\n     ...item.data(),\n     docId: item.id\n   }));\n }\n\nexport async function getUserByUserId(userId) {\n  const result = await firebase\n    .firestore()\n    .collection(\"users\")\n    .where(\"userId\", \"==\", userId)\n    .get();\n\n  const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id,\n  }));\n  return user;\n}\n\nexport async function getSuggestedProfiles(userId, following) {\n   let query = firebase.firestore().collection('users');\n \n   if (following.length > 0) {\n     query = query.where('userId', 'not-in', [...following, userId]);\n   } else {\n     query = query.where('userId', '!=', userId);\n   }\n   const result = await query.limit(10).get();\n \n   const profiles = result.docs.map((user) => ({\n     ...user.data(),\n     docId: user.id\n   }));\n \n   return profiles;\n }\n\n export async function updateLoggedInUserFollowing(\n   loggedInUserDocId, // currently logged in user document id (karl's profile)\n   profileId, // the user that karl requests to follow\n   isFollowingProfile // true/false (am i currently following this person?)\n ) {\n   return firebase\n     .firestore()\n     .collection('users')\n     .doc(loggedInUserDocId)\n     .update({\n       following: isFollowingProfile\n         ? FieldValue.arrayRemove(profileId)\n         : FieldValue.arrayUnion(profileId)\n     });\n }\n \n export async function updateFollowedUserFollowers(\n   profileDocId, // currently logged in user document id (karl's profile)\n   loggedInUserDocId, // the user that karl requests to follow\n   isFollowingProfile // true/false (am i currently following this person?)\n ) {\n   return firebase\n     .firestore()\n     .collection('users')\n     .doc(profileDocId)\n     .update({\n       followers: isFollowingProfile\n         ? FieldValue.arrayRemove(loggedInUserDocId)\n         : FieldValue.arrayUnion(loggedInUserDocId)\n     });\n }\n\n export async function getPhotos (userId, following) {\n    const result = await firebase\n    .firestore()\n    .collection('photos')\n    .where('userId', 'in', following)\n    .get();\n\n    const userFollowedPhotos = result.docs.map((photo) => ({\n       ...photo.data(),\n       docId: photo.id\n    }));\n\n    const photosWithUserDetails = await Promise.all(\n       userFollowedPhotos.map(async (photo) => {\n            let userLikedPhoto = false;\n            if (photo.lokes.inclueds(userId)) {\n               userLikedPhoto = true;\n            }\n            const user = await getUserByUserId(photo.userId);\n            const { username } = user[0];\n            return { username, ...photo, userLikedPhoto };\n       })\n    );\n    return photosWithUserDetails;\n }\n\n export async function getUserPhotosByUserId(userId) {\n   const result = await firebase\n     .firestore()\n     .collection('photos')\n     .where('userId', '==', userId)\n     .get();\n \n   const photos = result.docs.map((photo) => ({\n     ...photo.data(),\n     docId: photo.id\n   }));\n   return photos;\n }\n \n export async function isUserFollowingProfile(loggedInUserUsername, profileUserId) {\n   const result = await firebase\n     .firestore()\n     .collection('users')\n     .where('username', '==', loggedInUserUsername) \n     .where('following', 'array-contains', profileUserId)\n     .get();\n \n   const [response = {}] = result.docs.map((item) => ({\n     ...item.data(),\n     docId: item.id\n   }));\n \n   return response.userId;\n }\n \n export async function toggleFollow(\n   isFollowingProfile,\n   activeUserDocId,\n   profileDocId,\n   profileUserId,\n   followingUserId\n ) {\n\n   await updateLoggedInUserFollowing(activeUserDocId, profileUserId, isFollowingProfile);\n \n   await updateFollowedUserFollowers(profileDocId, followingUserId, isFollowingProfile);\n }\n ","import {useState, useEffect, useContext} from 'react';\nimport UserContext from '../context/user';\nimport {getUserByUserId} from '../services/firebase'\n\nexport default function useUser() {\n   const [activeUser, setActiveUser] = useState({});\n   const {user} = useContext(UserContext);\n\n   useEffect(() => {\n      async function getUserObjByUserId() {\n        const [response] = await getUserByUserId(user.uid);\n         setActiveUser(response);\n      }\n      if (user?.uid) {\n         getUserObjByUserId();\n      }\n   }, [user]);\n\n   return {user: activeUser};\n}","export const DEFAULT_IMAGE_PATH = '/images/avatars/default.png';","import { useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport FirebaseContext from '../context/firebase';\nimport UserContext from '../context/user';\nimport * as ROUTES from '../constants/routes';\nimport { DEFAULT_IMAGE_PATH } from '../constants/paths';\nimport useUser from '../hooks/use-user';\n\nexport default function Header() {\n  const { user: loggedInUser } = useContext(UserContext);\n  const { user } = useUser(loggedInUser?.uid);\n  const { firebase } = useContext(FirebaseContext);\n  const history = useHistory();\n\n  return (\n    <header className=\"h-16 bg-white border-b border-gray-primary mb-8\">\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\n        <div className=\"flex justify-between h-full\">\n          <div className=\"text-gray-700 text-center flex items-center align-items cursor-pointer\">\n            <h1 className=\"flex justify-center w-full\">\n              <Link to={ROUTES.DASHBOARD} aria-label=\"Jonstagram logo\">\n                <img src=\"/images/logo.png\" alt=\"Instagram\" className=\"mt-2 w-6/12\" />\n              </Link>\n            </h1>\n          </div>\n          <div className=\"text-gray-700 text-center flex items-center align-items\">\n            {loggedInUser ? (\n              <>\n                <Link to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\n                  <svg\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n                    />\n                  </svg>\n                </Link>\n\n                <button\n                  type=\"button\"\n                  title=\"Sign Out\"\n                  onClick={() => {\n                    firebase.auth().signOut();\n                    history.push(ROUTES.LOGIN);\n                  }}\n                  onKeyDown={(event) => {\n                    if (event.key === 'Enter') {\n                      firebase.auth().signOut();\n                      history.push(ROUTES.LOGIN);\n                    }\n                  }}\n                >\n                  <svg\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                    />\n                  </svg>\n                </button>\n                {user && (\n                  <div className=\"flex items-center cursor-pointer\">\n                    <Link to={`/p/${user?.username}`}>\n                      <img\n                        className=\"rounded-full h-8 w-8 flex\"\n                        src={`/images/avatars/${user?.username}.jpg`}\n                        alt={`${user?.username} profile`}\n                        onError={(e) => {\n                          e.target.src = DEFAULT_IMAGE_PATH;\n                        }}\n                      />\n                    </Link>\n                  </div>\n                )}\n              </>\n            ) : (\n              <>\n                <Link to={ROUTES.LOGIN}>\n                  <button\n                    type=\"button\"\n                    className=\"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8\"\n                  >\n                    Log In\n                  </button>\n                </Link>\n                <Link to={ROUTES.SIGN_UP}>\n                  <button\n                    type=\"button\"\n                    className=\"font-bold text-sm rounded text-blue-medium w-20 h-8\"\n                  >\n                    Sign Up\n                  </button>\n                </Link>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n","import { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport Skeleton from \"react-loading-skeleton\";\n\nconst User = ({ username, fullName }) => {\n  !username || !fullName ? (\n    <Skeleton count={1} height={61} />\n  ) : (\n    <Link\n      to={`/p/${username}`}\n      className=\"grid grid-cols-4 gap-4 mb-6 items-center\"\n    >\n      <div className=\"flex items-center justify-between col-span-1\">\n        <img\n          className=\"rounded-full w-16 flec mr-3\"\n          alt=\"\"\n          src={`/images/avatars/${username}.jpg`}\n        />\n      </div>\n      <div className=\"col-span-3\">\n        <p className=\"font-bold text-sm\">{username}</p>\n        <p className=\"text-sm\">{fullName}</p>\n      </div>\n    </Link>\n  );\n};\nexport default memo(User);\n\nUser.propTypes = {\n  username: PropTypes.string,\n  fullName: PropTypes.string\n};\n","import { createContext } from 'react';\n\nconst LoggedInUserContext = createContext(null);\nexport default LoggedInUserContext;","import { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport {\n  updateLoggedInUserFollowing,\n  updateFollowedUserFollowers,\n  getUserByUserId\n} from '../../services/firebase';\nimport LoggedInUserContext from '../../context/logged-in-user';\n\nexport default function SuggestedProfile({\n  profileDocId,\n  username,\n  profileId,\n  userId,\n  loggedInUserDocId\n}) {\n  const [followed, setFollowed] = useState(false);\n  const { setActiveUser } = useContext(LoggedInUserContext);\n\n   // sets user to followed and updates active user data/profile\n  async function handleFollowUser() {\n    setFollowed(true);\n    await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\n    await updateFollowedUserFollowers(profileDocId, userId, false);\n    const [user] = await getUserByUserId(userId);\n    setActiveUser(user);\n  }\n\n  return !followed ? (\n    <div className=\"flex flex-row items-center align-items justify-between\">\n      <div className=\"flex items-center justify-between\">\n        <img\n          className=\"rounded-full w-8 flex mr-3\"\n          src={`/images/avatars/${username}.jpg`}\n          alt=\"\"\n          onError={(e) => {\n            e.target.src = `/images/avatars/default.png`;\n          }}\n        />\n        <Link to={`/p/${username}`}>\n          <p className=\"font-bold text-sm\">{username}</p>\n        </Link>\n      </div>\n      <button\n        className=\"text-xs font-bold text-blue-medium\"\n        type=\"button\"\n        onClick={handleFollowUser}\n      >\n        Follow\n      </button>\n    </div>\n  ) : null;\n}\n\nSuggestedProfile.propTypes = {\n  profileDocId: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  profileId: PropTypes.string.isRequired,\n  userId: PropTypes.string.isRequired,\n  loggedInUserDocId: PropTypes.string.isRequired\n};","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Skeleton from 'react-loading-skeleton';\nimport { getSuggestedProfiles } from '../../services/firebase';\nimport SuggestedProfile from './suggested-profile';\n\nexport default function Suggestions({ userId, following, loggedInUserDocId }) {\n  const [profiles, setProfiles] = useState(null);\n\n  useEffect(() => {\n    async function suggestedProfiles() {\n      const response = await getSuggestedProfiles(userId, following);\n      setProfiles(response);\n    }\n\n    if (userId) {\n      suggestedProfiles();\n    }\n  }, [userId]);\n\n  return !profiles ? (\n    <Skeleton count={1} height={150} className=\"mt-5\" />\n  ) : profiles.length > 0 ? (\n    <div className=\"rounded flex flex-col\">\n      <div className=\"text-sm flex items-center align-items justify-between mb-2\">\n        <p className=\"font-bold text-gray-base\">Suggestions for you</p>\n      </div>\n      <div className=\"mt-4 grid gap-5\">\n        {profiles.map((profile) => (\n          <SuggestedProfile\n            key={profile.docId}\n            profileDocId={profile.docId}\n            username={profile.username}\n            profileId={profile.userId}\n            userId={userId}\n            loggedInUserDocId={loggedInUserDocId}\n          />\n        ))}\n      </div>\n    </div>\n  ) : null;\n}\n\nSuggestions.propTypes = {\n   userId: PropTypes.string,\n   following: PropTypes.array,\n   loggedInUserDocId: PropTypes.string\n };","import React from 'react';\nimport useUser from \"../../hooks/use-user\";\nimport User from \"./user\";\nimport Suggestions from \"./suggestions\";\n\nexport default function Sidebar() {\n  const {\n    user: { fullName, username, userId },\n  } = useUser();\n\n  return (\n    <div className=\"p-4\">\n      <User username={username} fullName={fullName} />\n      <Suggestions userId={userId} />\n    </div>\n  );\n}\n\nSidebar.whyDidYouRender = true;","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nexport default function Header ({ username }) {\n   return (\n      <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\n         <div className=\"flex items-center\">\n            <Link to={`/p/${username}`} className=\"flex items-center\">\n               <img\n                  className=\"rounded-full h-8 w-8 flex mr-3\"\n                  src={`/images/avatars/${username}.jpg`} \n                  alt={`${username} profile pic`}\n                  />\n               <p className=\"font-bold\">{username}</p>\n            </Link>\n         </div>\n      </div>\n   )\n}\n\nHeader.propTypes = {\n   username: PropTypes.string.isRequired\n };","import PropTypes from 'prop-types';\n\nexport default function Image ({ src, caption }) {\n\n   return(\n      <img src={src} alt ={caption} />\n   )\n}\n\nImage.propTypes = {\n   src: PropTypes.string.isRequired,\n   caption: PropTypes.string.isRequired\n}","import { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport FirebaseContext from '../../context/firebase';\nimport UserContext from '../../context/user';\n\nexport default function Actions({ docId, totalLikes, likedPhoto, handleFocus }) {\n  const {\n    user: { uid: userId }\n  } = useContext(UserContext);\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\n  const [likes, setLikes] = useState(totalLikes);\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n\n  const handleToggleLiked = async () => {\n    setToggleLiked((toggleLiked) => !toggleLiked);\n\n    await firebase\n      .firestore()\n      .collection('photos')\n      .doc(docId)\n      .update({\n        likes: toggleLiked ? FieldValue.arrayRemove(userId) : FieldValue.arrayUnion(userId)\n      });\n\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\n  };\n\n  return (\n    <>\n      <div className=\"flex justify-between p-4\">\n        <div className=\"flex\">\n          <svg\n            onClick={handleToggleLiked}\n            onKeyDown={(event) => {\n              if (event.key === 'Enter') {\n                handleToggleLiked();\n              }\n            }}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            tabIndex={0}\n            className={`w-8 mr-4 select-none cursor-pointer focus:outline-none ${\n              toggleLiked ? 'fill-red text-red-primary' : 'text-black-light'\n            }`}\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n            />\n          </svg>\n          <svg\n            onClick={handleFocus}\n            onKeyDown={(event) => {\n              if (event.key === 'Enter') {\n                handleFocus();\n              }\n            }}\n            className=\"w-8 text-black-light select-none cursor-pointer focus:outline-none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            tabIndex={0}\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            />\n            >\n          </svg>\n        </div>\n      </div>\n      <div className=\"p-4 py-0\">\n        <p className=\"font-bold\">{likes === 1 ? `${likes} like` : `${likes} likes`}</p>\n      </div>\n    </>\n  );\n}\n\nActions.propTypes = {\n  docId: PropTypes.string.isRequired,\n  totalLikes: PropTypes.number.isRequired,\n  likedPhoto: PropTypes.bool.isRequired,\n  handleFocus: PropTypes.func.isRequired\n};","import PropTypes from 'prop-types';\n\nexport default function Footer({ caption, username }) {\n//  render captions for pics\n   return (\n    <div className=\"p-4 pt-2 pb-1\">\n      <span className=\"mr-1 font-bold\">{username}</span>\n      <span className=\"italic\">{caption}</span>\n    </div>\n  );\n}\n\nFooter.propTypes = {\n  caption: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired\n};\n","import { useState, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FirebaseContext from \"../../context/firebase\";\nimport UserContext from \"../../context/user\";\n\nexport default function AddComment({\n  docId,\n  comments,\n  setComments,\n  commentInput,\n}) {\n  const [comment, setComment] = useState(\"\");\n  const { firebase, FieldValue } = useContext(FirebaseContext);\n  const {\n    user: { displayName },\n  } = useContext(UserContext);\n\n  const handleSubmitComment = (event) => {\n    event.preventDefault();\n\n    setComments([...comments, { displayName, comment }]);\n    setComment(\"\");\n\n    return firebase\n      .firestore()\n      .collection(\"photos\")\n      .doc(docId)\n      .update({\n        comments: FieldValue.arrayUnion({ displayName, comment }),\n      });\n  };\n\n  return (\n    <div className=\"border-t border-gray-primary\">\n      <form\n        className=\"flex justify-between pl-0 pr-5\"\n        method=\"POST\"\n        onSubmit={(event) =>\n          comment.length >= 1\n            ? handleSubmitComment(event)\n            : event.preventDefault()\n        }\n      >\n        <input\n          aria-label=\"Add a comment\"\n          autoComplete=\"off\"\n          className=\"text-sm text-gray-base w-full mr-3 py-5 px-4\"\n          type=\"text\"\n          name=\"add-comment\"\n          placeholder=\"Add a comment...\"\n          value={comment}\n          onChange={({ target }) => setComment(target.value)}\n          ref={commentInput}\n        />\n        <button\n          className={`text-sm font-bold text-blue-medium ${\n            !comment && \"opacity-25\"\n          }`}\n          type=\"button\"\n          disabled={comment.length < 1}\n          onClick={handleSubmitComment}\n        >\n          Post\n        </button>\n      </form>\n    </div>\n  );\n}\n\nAddComment.propTypes = {\n  docId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  setComments: PropTypes.func.isRequired,\n  commentInput: PropTypes.object,\n};\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { formatDistance } from \"date-fns\";\nimport { Link } from \"react-router-dom\";\nimport AddComment from \"./add-comment\";\n\nexport default function Comments({\n  docId,\n  comments: allComments,\n  posted,\n  commentInput,\n}) {\n  const [comments, setComments] = useState(allComments);\n  const [commentsSlice, setCommentsSlice] = useState(3);\n\n  const showNextComments = () => {\n    setCommentsSlice(commentsSlice + 3);\n  };\n\n  return (\n    <>\n      <div className=\"p-4 pt-1 pb-4\">\n        {comments.slice(0, commentsSlice).map((item) => (\n          <p key={`${item.comment}-${item.displayName}`} className=\"mb-1\">\n            <Link to={`/p/${item.displayName}`}>\n              <span className=\"mr-1 font-bold\">{item.displayName}</span>\n            </Link>\n            <span>{item.comment}</span>\n          </p>\n        ))}\n        {comments.length >= 3 && commentsSlice < comments.length && (\n          <button\n            className=\"text-sm text-gray-base mb-1 cursor-pointer focus:outline-none\"\n            type=\"button\"\n            onClick={showNextComments}\n            onKeyDown={(event) => {\n              if (event.key === \"Enter\") {\n                showNextComments();\n              }\n            }}\n          >\n            View more comments\n          </button>\n        )}\n        <p className=\"text-gray-base uppercase text-xs mt-2\">\n          {formatDistance(posted, new Date())} ago\n        </p>\n      </div>\n      <AddComment\n        docId={docId}\n        comments={comments}\n        setComments={setComments}\n        commentInput={commentInput}\n      />\n    </>\n  );\n}\n\nComments.propTypes = {\n  docId: PropTypes.string.isRequired,\n  comments: PropTypes.array.isRequired,\n  posted: PropTypes.number.isRequired,\n  commentInput: PropTypes.object.isRequired,\n};\n","import { useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Header from \"./header\";\nimport Image from \"./image\";\nimport Actions from \"./actions\";\nimport Footer from \"./footer\";\nimport Comments from \"./comments\";\n\nexport default function Post({ content }) {\n  const commentInput = useRef(null);\n  const handleFocus = () => commentInput.current.focus();\n\n  return (\n    <div className=\"rounded col-span-4 border bg-white border-gray-primary mb-12\">\n      <Header username={content.username} /> \n      <Image src={content.imageSrc} caption={content.caption} />\n      <Actions\n        docId={content.docId}\n        totalLikes={content.likes.length}\n        likedPhoto={content.userLikedPhoto}\n        handleFocus={handleFocus}\n      />\n      <Footer caption={content.caption} username={content.username} />\n      <Comments\n        docId={content.docId}\n        comments={content.comments}\n        posted={content.dateCreated}\n        commentInput={commentInput}\n      />\n    </div>\n  );\n}\n\nPost.propTypes = {\n  content: PropTypes.shape({\n    username: PropTypes.string.isRequired,\n    imageSrc: PropTypes.string.isRequired,\n    caption: PropTypes.string.isRequired,\n    docId: PropTypes.string.isRequired,\n    userLikedPhoto: PropTypes.bool.isRequired,\n    likes: PropTypes.array.isRequired,\n    comments: PropTypes.array.isRequired,\n    dateCreated: PropTypes.number.isRequired,\n  }),\n};\n","import { useContext } from 'react';\nimport Skeleton from 'react-loading-skeleton';\nimport LoggedInUserContext from '../context/logged-in-user';\nimport usePhotos from '../hooks/use-photos';\nimport Post from './post';\n\nexport default function Timeline() {\n  const { user } = useContext(LoggedInUserContext);\n  const { photos } = usePhotos(user);\n\n  return (\n    <div className=\"container col-span-2\">\n      {!photos ? (\n        <Skeleton count={4} width={640} height={500} className=\"mb-5\" />\n      ) : (\n        photos.map((content) => <Post key={content.docId} content={content} />)\n      )}\n    </div>\n  );\n}","import {useState, useEffect, useContext} from 'react';\n// import UserContext from '../context/user';\nimport {getPhotos, getUserByUserId} from '../services/firebase';\n\n\nexport default function usePhotos(user) {\n   const [photos, setPhotos] = useState(null);\n \n   useEffect(() => {\n     async function getTimelinePhotos() {\n       // does the user actually follow people?\n       if (user?.following?.length > 0) {\n         const followedUserPhotos = await getPhotos(user.userId, user.following);\n         // arrange array to be newest photos first\n         followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\n         setPhotos(followedUserPhotos);\n       }\n     }\n \n     getTimelinePhotos();\n   }, [user?.userId, user?.following]);\n \n   return { photos };\n }","import {useEffect} from 'react';\nimport Header from \"../components/header\";\nimport Sidebar from \"../components/sidebar/index\";\nimport Timeline from \"../components/timeline\";\n\n\nexport default function Dashboard(){\n   useEffect(()=> {\n      document.title = \"Jonstagram\";\n   }, []);\n\n   return (\n      <div className=\"bg-gray-background\">\n         <Header />\n         <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg\">\n            <Timeline />\n            <Sidebar />\n         </div>\n      </div>\n   );\n}"],"sourceRoot":""}